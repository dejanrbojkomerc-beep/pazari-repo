
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Pazari poslednja 3 dana</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>Pazari poslednja 3 dana</h1>
    <table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="2" halign="left">2025-12-26</th>
      <th colspan="2" halign="left">2025-12-25</th>
      <th colspan="2" halign="left">2025-12-24</th>
    </tr>
    <tr>
      <th></th>
      <th>Pazar</th>
      <th>Broj raƒçuna</th>
      <th>Pazar</th>
      <th>Broj raƒçuna</th>
      <th>Pazar</th>
      <th>Broj raƒçuna</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>TC_Beo</th>
      <td>559.99</td>
      <td>1</td>
      <td>359,569.86</td>
      <td>148</td>
      <td>341,804.36</td>
      <td>137</td>
    </tr>
    <tr>
      <th>Aviv</th>
      <td>6,184.94</td>
      <td>2</td>
      <td>112,506.39</td>
      <td>62</td>
      <td>155,273.16</td>
      <td>72</td>
    </tr>
    <tr>
      <th>BW_Galerija</th>
      <td>16,138.98</td>
      <td>2</td>
      <td>688,340.29</td>
      <td>168</td>
      <td>656,853.68</td>
      <td>147</td>
    </tr>
    <tr>
      <th>Banjica</th>
      <td>28,449.85</td>
      <td>13</td>
      <td>206,607.41</td>
      <td>132</td>
      <td>158,034.28</td>
      <td>126</td>
    </tr>
    <tr>
      <th>Borca</th>
      <td>10,668.94</td>
      <td>3</td>
      <td>351,329.72</td>
      <td>156</td>
      <td>347,097.28</td>
      <td>97</td>
    </tr>
    <tr>
      <th>Gornji_Milanovac</th>
      <td>5,401.95</td>
      <td>5</td>
      <td>144,213.24</td>
      <td>67</td>
      <td>153,940.86</td>
      <td>71</td>
    </tr>
    <tr>
      <th>Kalenic</th>
      <td>8,829.00</td>
      <td>4</td>
      <td>125,905.77</td>
      <td>50</td>
      <td>79,722.18</td>
      <td>37</td>
    </tr>
    <tr>
      <th>Karaburma</th>
      <td>11,359.70</td>
      <td>4</td>
      <td>219,581.63</td>
      <td>103</td>
      <td>220,434.52</td>
      <td>98</td>
    </tr>
    <tr>
      <th>Knez</th>
      <td>9,004.94</td>
      <td>4</td>
      <td>170,027.28</td>
      <td>69</td>
      <td>145,859.42</td>
      <td>55</td>
    </tr>
    <tr>
      <th>Leskovac</th>
      <td>4,974.97</td>
      <td>5</td>
      <td>301,526.11</td>
      <td>119</td>
      <td>266,229.02</td>
      <td>123</td>
    </tr>
    <tr>
      <th>Loznica</th>
      <td>26,979.79</td>
      <td>8</td>
      <td>215,257.83</td>
      <td>103</td>
      <td>251,303.58</td>
      <td>106</td>
    </tr>
    <tr>
      <th>Mladenovac</th>
      <td>17,614.80</td>
      <td>8</td>
      <td>204,211.56</td>
      <td>95</td>
      <td>226,564.44</td>
      <td>142</td>
    </tr>
    <tr>
      <th>NS_Bulevar</th>
      <td>2,305.89</td>
      <td>6</td>
      <td>342,262.08</td>
      <td>91</td>
      <td>203,835.43</td>
      <td>78</td>
    </tr>
    <tr>
      <th>NS_Sajam</th>
      <td>13,462.94</td>
      <td>3</td>
      <td>283,433.98</td>
      <td>99</td>
      <td>375,797.29</td>
      <td>108</td>
    </tr>
    <tr>
      <th>Nis</th>
      <td>0.00</td>
      <td>0</td>
      <td>1,141,474.35</td>
      <td>385</td>
      <td>998,856.07</td>
      <td>320</td>
    </tr>
    <tr>
      <th>Pancevo</th>
      <td>0.00</td>
      <td>0</td>
      <td>634,171.32</td>
      <td>212</td>
      <td>659,938.05</td>
      <td>224</td>
    </tr>
    <tr>
      <th>Paracin</th>
      <td>7,559.70</td>
      <td>4</td>
      <td>162,591.34</td>
      <td>65</td>
      <td>146,719.63</td>
      <td>54</td>
    </tr>
    <tr>
      <th>Pozarevac</th>
      <td>20,680.71</td>
      <td>4</td>
      <td>376,584.12</td>
      <td>158</td>
      <td>259,704.25</td>
      <td>104</td>
    </tr>
    <tr>
      <th>Stadion</th>
      <td>0.00</td>
      <td>0</td>
      <td>465,043.30</td>
      <td>190</td>
      <td>396,995.40</td>
      <td>150</td>
    </tr>
    <tr>
      <th>Subotica</th>
      <td>7,294.94</td>
      <td>7</td>
      <td>400,221.95</td>
      <td>135</td>
      <td>603,446.11</td>
      <td>221</td>
    </tr>
    <tr>
      <th>Surcin</th>
      <td>36,120.92</td>
      <td>9</td>
      <td>369,469.43</td>
      <td>136</td>
      <td>243,826.02</td>
      <td>101</td>
    </tr>
    <tr>
      <th>Valjevo</th>
      <td>15,797.95</td>
      <td>5</td>
      <td>378,556.04</td>
      <td>144</td>
      <td>384,770.15</td>
      <td>132</td>
    </tr>
    <tr>
      <th>Vrbas</th>
      <td>8,583.01</td>
      <td>10</td>
      <td>204,271.48</td>
      <td>110</td>
      <td>236,616.81</td>
      <td>84</td>
    </tr>
    <tr>
      <th>Vrsac</th>
      <td>0.00</td>
      <td>0</td>
      <td>303,712.71</td>
      <td>121</td>
      <td>286,634.53</td>
      <td>109</td>
    </tr>
    <tr>
      <th>Zajecar</th>
      <td>6,454.92</td>
      <td>3</td>
      <td>238,472.68</td>
      <td>112</td>
      <td>291,029.49</td>
      <td>102</td>
    </tr>
    <tr>
      <th>Zemun</th>
      <td>18,779.88</td>
      <td>5</td>
      <td>251,657.45</td>
      <td>80</td>
      <td>213,108.30</td>
      <td>67</td>
    </tr>
    <tr>
      <th>Ukupno</th>
      <td>283,208.71</td>
      <td>115</td>
      <td>8,650,999.32</td>
      <td>3310</td>
      <td>8,304,394.31</td>
      <td>3065</td>
    </tr>
  </tbody>
</table>
    <h2>Pazar po satima</h2>
    <canvas id="chartPazar" width="800" height="400"></canvas>
    <h2>Broj raƒçuna po satima</h2>
    <canvas id="chartRacuni" width="800" height="400"></canvas>
    <button onclick="refreshData()">üîÑ Osve≈æi sada</button>
    <script>
        const ctxPazar = document.getElementById('chartPazar').getContext('2d');
        new Chart(ctxPazar, {
            type: 'bar',
            data: {
                labels: [...Array(24).keys()],
                datasets: [{"label": "2025-12-26 - Pazar", "data": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 15496.81, 181510.55, 86201.34999999999, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], "borderColor": "#4CAF50", "backgroundColor": "#4CAF50", "borderWidth": 2}, {"label": "2025-12-25 - Pazar", "data": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 7940.76, 240650.4, 437476.83999999997, 530987.62, 736993.94, 776195.15, 804679.03, 851917.98, 884873.82, 989378.28, 959689.19, 836004.63, 443093.27, 151118.41, 0.0, 0.0], "borderColor": "#FF5722", "backgroundColor": "#FF5722", "borderWidth": 2}, {"label": "2025-12-24 - Pazar", "data": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1199.93, 182131.76, 456121.49, 621800.6, 746652.74, 683032.9, 634772.36, 751929.89, 757340.37, 906782.37, 988955.5599999999, 799942.21, 551552.04, 222180.09, 0.0, 0.0], "borderColor": "#2196F3", "backgroundColor": "#2196F3", "borderWidth": 2}]
            },
            options: {
                responsive: true,
                plugins: { legend: { position: 'top' } }
            }
        });

        const ctxRacuni = document.getElementById('chartRacuni').getContext('2d');
        new Chart(ctxRacuni, {
            type: 'bar',
            data: {
                labels: [...Array(24).keys()],
                datasets: [{"label": "2025-12-26 - Broj ra\u010duna", "data": [0, 0, 0, 0, 0, 0, 0, 0, 7, 81, 27, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "borderColor": "#4CAF50", "backgroundColor": "#4CAF50", "borderWidth": 2}, {"label": "2025-12-25 - Broj ra\u010duna", "data": [0, 0, 0, 0, 0, 0, 0, 0, 6, 76, 197, 234, 266, 282, 315, 282, 313, 340, 370, 365, 199, 61, 3, 1], "borderColor": "#FF5722", "backgroundColor": "#FF5722", "borderWidth": 2}, {"label": "2025-12-24 - Broj ra\u010duna", "data": [0, 0, 0, 0, 0, 0, 0, 0, 6, 82, 174, 233, 256, 272, 263, 284, 297, 317, 334, 305, 185, 57, 0, 0], "borderColor": "#2196F3", "backgroundColor": "#2196F3", "borderWidth": 2}]
            },
            options: {
                responsive: true,
                plugins: { legend: { position: 'top' } }
            }
        });

        function refreshData() {
            fetch('/refresh')
                .then(r => r.json())
                .then(data => {
                    alert("Status osve≈æavanja: " + data.status);
                    if (data.status === "ok") {
                        location.reload();
                    }
                })
                .catch(err => alert("Gre≈°ka: " + err));
        }
    </script>
</body>
</html>
    